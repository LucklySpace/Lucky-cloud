spring:
  application:
    name: im-generator
  profiles:
    active: ${APP_PROFILES_ACTIVE:@app.profiles.active@}

  cloud:
    sentinel:
      eager: true
      transport:
        dashboard: ${SENTINEL_DASHBOARD_URL:@sentinel.dashboard.url@}
    discovery:
      client:
        simple:
          local:
            instance-id: ${spring.application.name}-${random.value}
    nacos:
      discovery:
        server-addr: ${NACOS_DISCOVERY_SERVER_ADDR:@nacos.config.server-addr@}
        username: ${NACOS_DISCOVERY_USERNAME:@nacos.discovery.username@}
        password: ${NACOS_DISCOVERY_PASSWORD:@nacos.discovery.password@}
        namespace: ${NACOS_DISCOVERY_NAMESPACE:@nacos.discovery.namespace@}
        group: ${NACOS_DISCOVERY_GROUP:@nacos.discovery.group@}

      config:
        server-addr: ${NACOS_CONFIG_SERVER_ADDR:@nacos.config.server-addr@}
        namespace: ${NACOS_CONFIG_NAMESPACE:@nacos.config.namespace@}
        group: ${NACOS_CONFIG_GROUP:@nacos.config.group@}
        name: ${spring.application.name}-@app.profiles.active@
        file-extension: yml

dubbo:
  application:
    name: ${spring.application.name}
    serialize-check-status: WARN
  protocol:
    name: dubbo # 通信协议
    port: -1 # dubbo协议端口
  consumer:
    check: false    # 让 consumer 不在启动时校验 provider 是否存在
    timeout: 5000
  registry:
    address: nacos://${NACOS_DISCOVERY_SERVER_ADDR:@nacos.config.server-addr@}
    register-mode: instance # 注册模式

server:
  http2:
    enabled: true
  port: ${SERVER_PORT:9999}